<form [formGroup]="form" (ngSubmit)="submit()" novalidate class="create-ticket-form">
  <h2>Create Support Ticket</h2>

  <div class="form-group">
    <label for="title">Title</label>
    <input id="title" type="text" formControlName="title" placeholder="Short summary of your issue" />
    @if (titleError(); as err) {
      <small class="error">{{ err }}</small>
    }
  </div>

  <div class="form-group">
    <label for="description">Description</label>
    <textarea
      id="description"
      rows="6"
      formControlName="description"
      placeholder="Describe your issue (minimum 20 characters)"
    ></textarea>
    @if (descriptionError(); as err) {
      <small class="error">{{ err }}</small>
    }
  </div>

  <div class="form-group">
    <label for="email">Email</label>
    <input id="email" type="email" autocomplete="email" formControlName="email" placeholder="you@example.com" />
    @if (emailError(); as err) {
      <small class="error">{{ err }}</small>
    }
  </div>

  @if (submitError(); as err) {
    <div class="error">{{ err }}</div>
  }

  <button type="submit" [disabled]="!canSubmit()">
    @if (isSubmitting()) { Creatingâ€¦ } @else { Create Ticket }
  </button>
</form>
